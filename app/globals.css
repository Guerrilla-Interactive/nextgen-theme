/* ──────────────────────────────────────────────────────────── */
/* globals.css · Tailwind v4 + shadcn/ui from Brand definition  */
/* Foundations in OKLCH, shadcn tokens in HSL/OKLCH via CSS vars */
/* ──────────────────────────────────────────────────────────── */

@import "tailwindcss";

@layer base, components, utilities;

@layer base {
  :root {
    /* ——— Foundation swatches (OKLCH) ——— */
    --ivory: oklch(0.98 0.01 81.76);
    --olive: oklch(0.38 0.02 64.16);
    --cream: oklch(0.97 0.02 72.57);
    --pale-yellow: oklch(0.96 0.04 83.12);
    --orange: oklch(0.70 0.17 28.12);
    --white: oklch(1.00 0 0);
    --lime: oklch(0.81 0.15 71.81);
    --mint: oklch(0.94 0.03 61.12);
    --coral: oklch(0.64 0.22 28.93);
    --gold: oklch(0.71 0.18 37.63);
    --lime-light: oklch(0.89 0.15 91.66);
    --burnt-orange: oklch(0.59 0.19 36.05);
    --rust: oklch(0.57 0.20 26.34);
    --light-mint: oklch(0.96 0.03 78.77);
    
    /* ——— Color-mix steps (OKLCH) ——— */
    --orange-bright: color-mix(in oklch, var(--orange) 92%, white 8%);
    --orange-brighter: color-mix(in oklch, var(--orange) 85%, white 15%);
    --orange-dark: color-mix(in oklch, var(--orange) 92%, black 8%);
    --orange-darker: color-mix(in oklch, var(--orange) 85%, black 15%);
    --lime-bright: color-mix(in oklch, var(--lime) 92%, white 8%);
    --lime-brighter: color-mix(in oklch, var(--lime) 85%, white 15%);
    --lime-dark: color-mix(in oklch, var(--lime) 92%, black 8%);
    --lime-darker: color-mix(in oklch, var(--lime) 85%, black 15%);
    --coral-bright: color-mix(in oklch, var(--coral) 92%, white 8%);
    --coral-brighter: color-mix(in oklch, var(--coral) 85%, white 15%);
    --coral-dark: color-mix(in oklch, var(--coral) 92%, black 8%);
    --coral-darker: color-mix(in oklch, var(--coral) 85%, black 15%);
    --gold-bright: color-mix(in oklch, var(--gold) 92%, white 8%);
    --gold-brighter: color-mix(in oklch, var(--gold) 85%, white 15%);
    --gold-dark: color-mix(in oklch, var(--gold) 92%, black 8%);
    --gold-darker: color-mix(in oklch, var(--gold) 85%, black 15%);
    --lime-light-bright: color-mix(in oklch, var(--lime-light) 92%, white 8%);
    --lime-light-brighter: color-mix(in oklch, var(--lime-light) 85%, white 15%);
    --lime-light-dark: color-mix(in oklch, var(--lime-light) 92%, black 8%);
    --lime-light-darker: color-mix(in oklch, var(--lime-light) 85%, black 15%);
    --burnt-orange-bright: color-mix(in oklch, var(--burnt-orange) 92%, white 8%);
    --burnt-orange-brighter: color-mix(in oklch, var(--burnt-orange) 85%, white 15%);
    --burnt-orange-dark: color-mix(in oklch, var(--burnt-orange) 92%, black 8%);
    --burnt-orange-darker: color-mix(in oklch, var(--burnt-orange) 85%, black 15%);
    --rust-bright: color-mix(in oklch, var(--rust) 92%, white 8%);
    --rust-brighter: color-mix(in oklch, var(--rust) 85%, white 15%);
    --rust-dark: color-mix(in oklch, var(--rust) 92%, black 8%);
    --rust-darker: color-mix(in oklch, var(--rust) 85%, black 15%);
    
    /* ——— Semantic tokens (aliases to attached foundation variables) ——— */
    --background: var(--ivory);
    --foreground: var(--olive);
    --card: var(--cream);
    --card-foreground: var(--olive);
    --popover: var(--pale-yellow);
    --popover-foreground: var(--olive);
    --primary: var(--orange);
    --primary-foreground: var(--white);
    --secondary: var(--lime);
    --secondary-foreground: var(--olive);
    --muted: var(--mint);
    --muted-foreground: var(--olive);
    --accent: var(--coral);
    --accent-foreground: var(--white);
    --destructive: var(--rust);
    --destructive-foreground: var(--white);
    --success: var(--orange);
    --success-foreground: var(--white);
    --border: var(--lime);
    --input: var(--light-mint);
    --input-foreground: var(--olive);
    --ring: var(--orange);
    --chart1: var(--orange);
    --chart2: var(--lime);
    --chart3: var(--gold);
    --chart4: var(--lime-light);
    --chart5: var(--burnt-orange);
    --chartOutline: var(--lime);
    --sidebar: var(--cream);
    --sidebar-foreground: var(--olive);
    --sidebar-primary: var(--orange);
    --sidebar-primary-foreground: var(--white);
    --sidebar-accent: var(--lime);
    --sidebar-accent-foreground: var(--olive);
    --sidebar-border: var(--lime);
    --sidebar-ring: var(--orange);
    --primary-bright: var(--orange-bright);
    --primary-brighter: var(--orange-brighter);
    --primary-dark: var(--orange-dark);
    --primary-darker: var(--orange-darker);
    --secondary-bright: var(--lime-bright);
    --secondary-brighter: var(--lime-brighter);
    --secondary-dark: var(--lime-dark);
    --secondary-darker: var(--lime-darker);
    --accent-bright: var(--coral-bright);
    --accent-brighter: var(--coral-brighter);
    --accent-dark: var(--coral-dark);
    --accent-darker: var(--coral-darker);
    --destructive-bright: var(--rust-bright);
    --destructive-brighter: var(--rust-brighter);
    --destructive-dark: var(--rust-dark);
    --destructive-darker: var(--rust-darker);
    --success-bright: var(--orange-bright);
    --success-brighter: var(--orange-brighter);
    --success-dark: var(--orange-dark);
    --success-darker: var(--orange-darker);
    --ring-bright: var(--orange-bright);
    --ring-brighter: var(--orange-brighter);
    --ring-dark: var(--orange-dark);
    --ring-darker: var(--orange-darker);
    --chart1-bright: var(--orange-bright);
    --chart1-brighter: var(--orange-brighter);
    --chart1-dark: var(--orange-dark);
    --chart1-darker: var(--orange-darker);
    --chart2-bright: var(--lime-bright);
    --chart2-brighter: var(--lime-brighter);
    --chart2-dark: var(--lime-dark);
    --chart2-darker: var(--lime-darker);
    --chart3-bright: var(--gold-bright);
    --chart3-brighter: var(--gold-brighter);
    --chart3-dark: var(--gold-dark);
    --chart3-darker: var(--gold-darker);
    --chart4-bright: var(--lime-light-bright);
    --chart4-brighter: var(--lime-light-brighter);
    --chart4-dark: var(--lime-light-dark);
    --chart4-darker: var(--lime-light-darker);
    --chart5-bright: var(--burnt-orange-bright);
    --chart5-brighter: var(--burnt-orange-brighter);
    --chart5-dark: var(--burnt-orange-dark);
    --chart5-darker: var(--burnt-orange-darker);
    
    /* Typography + radii + shadows */
    --font-sans: 'Quicksand', 'Nunito', system-ui, sans-serif;
    --font-serif: 'Quicksand', 'Nunito', system-ui, sans-serif;
    --font-mono: 'Source Code Pro', 'Fira Code', Consolas, monospace;
    --radius: 0.6rem;
    --shadow-xs: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.03);
    --shadow-sm: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.05), 0px 1px 2px -1px oklch(0.70 0.17 28.12 / 30% / 0.05);
    --shadow-md: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.05), 0px 2px 4px -1px oklch(0.70 0.17 28.12 / 30% / 0.05);
    --shadow-lg: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.05), 0px 4px 6px -1px oklch(0.70 0.17 28.12 / 30% / 0.05);
    --shadow-xl: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.05), 0px 8px 10px -1px oklch(0.70 0.17 28.12 / 30% / 0.05);
    --shadow: 0px 1px 3px 0px oklch(0.70 0.17 28.12 / 30% / 0.05), 0px 1px 2px -1px oklch(0.70 0.17 28.12 / 30% / 0.05);
    color-scheme: light;
  }
  
  .dark, [data-theme="dark"] {
    color-scheme: dark;
  }
}

@layer base {
  * { @apply border-border; }
  html { @apply antialiased; text-rendering: optimizeLegibility; }
  body { @apply bg-background text-foreground; font-family: var(--font-sans); }
  ::selection { background-color: color-mix(in oklch, var(--primary) 18%, transparent); color: var(--foreground); }
  h1,h2,h3,h4 { @apply text-balance; }
  p { @apply leading-7; }
  p + p { @apply mt-4; }
  :where(button,[role="button"],input,select,textarea,a,summary):focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--background), 0 0 0 4px var(--ring);
    border-radius: var(--radius);
  }
  
  /* Typography role mappings driven by CSS variables */
  :where(h1), :where([data-typography-role="h1"]) {
      font-family: var(--font-h1, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h1, var(--font-weight-heading, 700));
      font-size: var(--font-size-h1, 2.25rem);
      line-height: var(--line-height-h1, var(--line-height-heading, var(--line-height-body, 1.1)));
      letter-spacing: var(--letter-spacing-h1, var(--letter-spacing-heading, 0em));
  }
  :where(h2), :where([data-typography-role="h2"]) {
      font-family: var(--font-h2, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h2, var(--font-weight-heading, 700));
      font-size: var(--font-size-h2, 1.875rem);
      line-height: var(--line-height-h2, var(--line-height-heading, var(--line-height-body, 1.15)));
      letter-spacing: var(--letter-spacing-h2, var(--letter-spacing-heading, 0em));
  }
  :where(h3), :where([data-typography-role="h3"]) {
      font-family: var(--font-h3, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h3, var(--font-weight-heading, 600));
      font-size: var(--font-size-h3, 1.5rem);
      line-height: var(--line-height-h3, var(--line-height-heading, var(--line-height-body, 1.2)));
      letter-spacing: var(--letter-spacing-h3, var(--letter-spacing-heading, 0em));
  }
  :where(h4), :where([data-typography-role="h4"]) {
      font-family: var(--font-h4, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h4, var(--font-weight-heading, 600));
      font-size: var(--font-size-h4, 1.25rem);
      line-height: var(--line-height-h4, var(--line-height-heading, var(--line-height-body, 1.25)));
      letter-spacing: var(--letter-spacing-h4, var(--letter-spacing-heading, 0em));
  }
  :where(h5), :where([data-typography-role="h5"]) {
      font-family: var(--font-h5, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h5, var(--font-weight-heading, 600));
      font-size: var(--font-size-h5, 1.125rem);
      line-height: var(--line-height-h5, var(--line-height-heading, var(--line-height-body, 1.3)));
      letter-spacing: var(--letter-spacing-h5, var(--letter-spacing-heading, 0em));
  }
  :where(h6), :where([data-typography-role="h6"]) {
      font-family: var(--font-h6, var(--font-heading, var(--font-body)));
      font-weight: var(--font-weight-h6, var(--font-weight-heading, 600));
      font-size: var(--font-size-h6, 1rem);
      line-height: var(--line-height-h6, var(--line-height-heading, var(--line-height-body, 1.35)));
      letter-spacing: var(--letter-spacing-h6, var(--letter-spacing-heading, 0em));
  }
  :where(p, li), :where([data-typography-role="p"]), :where([data-typography-role="span"]), :where([data-typography-role="default"]), :where([data-typography-role="div"]) {
      font-family: var(--font-p, var(--font-body));
      font-weight: var(--font-weight-p, 400);
      font-size: var(--font-size-p, 1rem);
      line-height: var(--line-height-p, var(--line-height-body, 1.5));
      letter-spacing: var(--letter-spacing-p, var(--letter-spacing-body, 0em));
  }
  :where(blockquote), :where([data-typography-role="blockquote"]) {
      font-family: var(--font-blockquote, var(--font-body));
      font-weight: var(--font-weight-blockquote, var(--font-weight-p, 400));
      font-size: var(--font-size-blockquote, var(--font-size-p, 1rem));
      line-height: var(--line-height-blockquote, var(--line-height-p, var(--line-height-body, 1.5)));
      letter-spacing: var(--letter-spacing-blockquote, var(--letter-spacing-p, 0em));
  }
  :where([data-slot="button"], button, [data-typography-role="button"]) {
      font-family: var(--font-button, var(--font-body));
      font-weight: var(--font-weight-button, 600);
      font-size: var(--font-size-button, 0.875rem);
      line-height: var(--line-height-button, 1.2);
      letter-spacing: var(--letter-spacing-button, 0em);
  }
}

@media (prefers-reduced-motion: reduce) {
  :root { scroll-behavior: auto; }
  * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-chart-1: var(--chart1);
  --color-chart-2: var(--chart2);
  --color-chart-3: var(--chart3);
  --color-chart-4: var(--chart4);
  --color-chart-5: var(--chart5);
  --color-chart-outline: var(--chartOutline);
  --color-ivory: var(--ivory);
  --color-olive: var(--olive);
  --color-cream: var(--cream);
  --color-pale-yellow: var(--pale-yellow);
  --color-orange: var(--orange);
  --color-white: var(--white);
  --color-lime: var(--lime);
  --color-mint: var(--mint);
  --color-coral: var(--coral);
  --color-gold: var(--gold);
  --color-lime-light: var(--lime-light);
  --color-burnt-orange: var(--burnt-orange);
  --color-rust: var(--rust);
  --color-light-mint: var(--light-mint);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --shadow-2xs: var(--shadow-2xs);
  --shadow-xs: var(--shadow-xs);
  --shadow-sm: var(--shadow-sm);
  --shadow: var(--shadow);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);
  --shadow-2xl: var(--shadow-2xl);
}

@layer components {
  .surface { @apply bg-card text-card-foreground border rounded-xl; }
  .muted-surface { @apply bg-muted text-muted-foreground rounded-xl; }
  .interactive { @apply transition-colors duration-150; }
  .interactive:hover { @apply bg-accent text-accent-foreground; }
}

/* ───────── Typography variables computed from brand roles (ensure effect on h1..h6 etc) ───────── */
:root{
  --font-heading: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-body: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-body: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-p: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-default: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-blockquote: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-heading: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-display: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-h1: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-size-h1: 2.25rem;
  --line-height-h1: 1.1;
  --letter-spacing-h1: 0em;
  --font-h2: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-h3: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-h4: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-h5: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-h6: 'Comfortaa', 'Quicksand', cursive, sans-serif;
  --font-button: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-label: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-input: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-caption: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-badge: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-code: 'Source Code Pro', 'Fira Code', Consolas, monospace;
  --font-mono: 'Source Code Pro', 'Fira Code', Consolas, monospace;
  --font-serif: 'Quicksand', 'Nunito', system-ui, sans-serif;
  --font-sans: 'Quicksand', 'Nunito', system-ui, sans-serif;
}

/* ───────── Typography consumption overrides (ensure effect in consumers) ───────── */
h1, [data-typography-role="h1"] {
  font-family: var(--font-h1, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h1, 400) !important;
  font-size: var(--font-size-h1, 2.25rem) !important;
  line-height: var(--line-height-h1, 1.5) !important;
  letter-spacing: var(--letter-spacing-h1, var(--letter-spacing-heading, 0em)) !important;
}
h2, [data-typography-role="h2"] {
  font-family: var(--font-h2, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h2, 400) !important;
  font-size: var(--font-size-h2, 1.875rem) !important;
  line-height: var(--line-height-h2, 1.15) !important;
  letter-spacing: var(--letter-spacing-h2, var(--letter-spacing-heading, 0em)) !important;
}
h3, [data-typography-role="h3"] {
  font-family: var(--font-h3, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h3, 400) !important;
  font-size: var(--font-size-h3, 1.5rem) !important;
  line-height: var(--line-height-h3, 1.2) !important;
  letter-spacing: var(--letter-spacing-h3, var(--letter-spacing-heading, 0em)) !important;
}
h4, [data-typography-role="h4"] {
  font-family: var(--font-h4, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h4, 400) !important;
  font-size: var(--font-size-h4, 1.25rem) !important;
  line-height: var(--line-height-h4, 1.25) !important;
  letter-spacing: var(--letter-spacing-h4, var(--letter-spacing-heading, 0em)) !important;
}
h5, [data-typography-role="h5"] {
  font-family: var(--font-h5, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h5, 400) !important;
  font-size: var(--font-size-h5, 1.125rem) !important;
  line-height: var(--line-height-h5, 1.3) !important;
  letter-spacing: var(--letter-spacing-h5, var(--letter-spacing-heading, 0em)) !important;
}
h6, [data-typography-role="h6"] {
  font-family: var(--font-h6, var(--font-heading, var(--font-body))) !important;
  font-weight: var(--font-weight-h6, 400) !important;
  font-size: var(--font-size-h6, 1rem) !important;
  line-height: var(--line-height-h6, 1.35) !important;
  letter-spacing: var(--letter-spacing-h6, var(--letter-spacing-heading, 0em)) !important;
}
p, li, [data-typography-role="p"], [data-typography-role="default"] {
  font-family: var(--font-p, var(--font-body, var(--font-body))) !important;
  font-weight: var(--font-weight-p, 400) !important;
  font-size: var(--font-size-p, 1rem) !important;
  line-height: var(--line-height-p, 1.5) !important;
  letter-spacing: var(--letter-spacing-p, var(--letter-spacing-heading, 0em)) !important;
}
blockquote, [data-typography-role="blockquote"] {
  font-family: var(--font-blockquote, var(--font-blockquote, var(--font-body))) !important;
  font-weight: var(--font-weight-blockquote, 400) !important;
  font-size: var(--font-size-blockquote, 1rem) !important;
  line-height: var(--line-height-blockquote, 1.5) !important;
  letter-spacing: var(--letter-spacing-blockquote, var(--letter-spacing-heading, 0em)) !important;
}
[data-slot="button"], button, [data-typography-role="button"] {
  font-family: var(--font-button, var(--font-button, var(--font-body))) !important;
  font-weight: var(--font-weight-button, 400) !important;
  font-size: var(--font-size-button, .875rem) !important;
  line-height: var(--line-height-button, 1.2) !important;
  letter-spacing: var(--letter-spacing-button, var(--letter-spacing-heading, 0em)) !important;
}
